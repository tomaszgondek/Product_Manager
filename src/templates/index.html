<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Product Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; }
        .container { margin-top: 40px; }
        h1 { margin-bottom: 20px; }
        table { background: white; border-radius: 10px; overflow: hidden; }
        form.add-product { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .btn-danger { background-color: #dc3545; }
    </style>
</head>
<body>
<div class="container">
    <h1 class="text-center">ðŸ“¦ Product Manager</h1>

    <!-- âœ… Add Product Form -->
    <form method="post" action="/ui/add" class="add-product mb-4">
        <div class="row g-3 align-items-center">
            <div class="col-md-3">
                <label class="form-label">Name</label>
                <input type="text" name="name" class="form-control" minlength="3" maxlength="20" required>
            </div>
            <div class="col-md-2">
                <label class="form-label">Category</label>
                <select name="category" class="form-select" required>
                    <option value="">Select...</option>
                    <option value="Elektronika">Elektronika</option>
                    <option value="KsiÄ…Å¼ki">KsiÄ…Å¼ki</option>
                    <option value="OdzieÅ¼">OdzieÅ¼</option>
                </select>
            </div>
            <div class="col-md-2">
                <label class="form-label">Price (PLN)</label>
                <input type="number" step="0.01" name="price" class="form-control" required>
            </div>
            <div class="col-md-2">
                <label class="form-label">Quantity</label>
                <input type="number" name="quantity" class="form-control" min="0" required>
            </div>
            <div class="col-md-3 d-flex align-items-end">
                <button type="submit" class="btn btn-success w-100">Add Product</button>
            </div>
        </div>
    </form>

    <!-- âœ… Product List -->
    <table class="table table-striped table-bordered align-middle shadow-sm">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Category</th>
            <th>Price (PLN)</th>
            <th>Quantity</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for p in products %}
        <tr>
            <td>{{ p.id }}</td>
            <td>{{ p.name }}</td>
            <td>{{ p.category }}</td>
            <td>{{ "%.2f"|format(p.price) }}</td>
            <td>{{ p.quantity }}</td>
            <td>
                <form method="post" action="/ui/delete/{{ p.id }}" style="display:inline;">
                    <button type="submit" class="btn btn-sm btn-danger"
                            onclick="return confirm('Are you sure you want to delete {{ p.name }}?')">
                        Delete
                    </button>
                </form>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

    {% if not products %}
    <div class="alert alert-info text-center">No products found. Add your first product above!</div>
    {% endif %}
</div>
</body>
</html>
